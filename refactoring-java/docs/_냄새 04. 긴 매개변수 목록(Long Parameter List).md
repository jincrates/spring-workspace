# ëƒ„ìƒˆ 04. ê¸´ ë§¤ê°œë³€ìˆ˜ ëª©ë¡(Long Parameter List)


- **ì–´ë–¤ í•¨ìˆ˜ì— ë§¤ê°œë³€ìˆ˜ê°€ ë§Žì„ìˆ˜ë¡ í•¨ìˆ˜ì˜ ì—­í• ì„ ì´í•´í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤.**

  â‡’ ë§¤ê°œë³€ìˆ˜ê°€ ë§Žë‹¤ëŠ” ê²ƒì€ í•˜ë‚˜ì˜ ì—­í• ì„ ë‹´ë‹¹í•˜ê³  ìžˆëŠ”ê²Œ ì•„ë‹ì§€ë„ ëª¨ë¥¸ë‹¤.

  - ê³¼ì—° ê·¸ í•¨ìˆ˜ëŠ” í•œê°€ì§€ ì¼ì„ í•˜ê³  ìžˆëŠ”ê²Œ ë§žëŠ”ê°€?
  - ë¶ˆí•„ìš”í•œ ë§¤ê°œë³€ìˆ˜ëŠ” ì—†ëŠ”ê°€?
  - í•˜ë‚˜ì˜ ë ˆì½”ë“œë¡œ ë­‰ì¹  ìˆ˜ ìžˆëŠ” ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì€ ì—†ëŠ”ê°€?
- ì–´ë–¤ ë§¤ê°œë³€ìˆ˜ë¥¼ ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ ì•Œì•„ë‚¼ ìˆ˜ ìžˆë‹¤ë©´, â€œ`ë§¤ê°œë³€ìˆ˜ë¥¼ ì§ˆì˜ í•¨ìˆ˜ë¡œ ë°”ê¾¸ê¸°(Replace Parameter with Query)`â€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.
- ê¸°ì¡´ ìžë£Œêµ¬ì¡°ì—ì„œ ì„¸ë¶€ì ì¸ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì—¬ëŸ¬ ë§¤ê°œë³€ìˆ˜ë¡œ ë„˜ê¸°ëŠ” ëŒ€ì‹ , â€œ`ê°ì²´ í†µì§¸ë¡œ ë„˜ê¸°ê¸°(Preserve Whole Object)`â€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.
- ì¼ë¶€ ë§¤ê°œë³€ìˆ˜ë“¤ì´ ëŒ€ë¶€ë¶„ ê°™ì´ ë„˜ê²¨ì§„ë‹¤ë©´, â€œ`ë§¤ê°œë³€ìˆ˜ ê°ì²´ ë§Œë“¤ê¸°(Introduce Parameter Object)`â€ë¥¼ ì ìš©í•  ìˆ˜ ìžˆë‹¤.
- ë§¤ê°œë³€ìˆ˜ê°€ í”Œëž˜ê·¸ë¡œ ì‚¬ìš©ëœë‹¤ë©´, â€œ`í”Œëž˜ê·¸ ì¸ìˆ˜ ì œê±°í•˜ê¸°(Remove Flag Argument)`â€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.
- ì—¬ëŸ¬ í•¨ìˆ˜ê°€ ì¼ë¶€ ë§¤ê°œë³€ìˆ˜ë¥¼ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤ë©´ â€œ`ì—¬ëŸ¬ í•¨ìˆ˜ë¥¼ í´ëž˜ìŠ¤ë¡œ ë¬¶ê¸°(Combine Functions into Class)`â€ë¥¼ í†µí•´ ë§¤ê°œë³€ìˆ˜ë¥¼ í•´ë‹¹ í´ëž˜ìŠ¤ì˜ í•„ë“œë¡œ ë§Œë“¤ê³  ë©”ì„œë“œì— ì „ë‹¬í•´ì•¼ í•  ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì„ ì¤„ì¼ ìˆ˜ ìžˆë‹¤.


>â“ **[ìƒê°í•˜ê¸°]** 
> 
> íŒ¨í‚¤ì§€ ì†ŒìŠ¤ì— ì ìš©í•  ìˆ˜ ìžˆëŠ” ë¶€ë¶„ì€ ì—†ëŠ”ê°€? 
> 1) ê³¼ì—° ê·¸ í•¨ìˆ˜ëŠ” í•œê°€ì§€ ì¼ì„ í•˜ê³  ìžˆëŠ”ê²Œ ë§žëŠ”ê°€?
> 2) ë¶ˆí•„ìš”í•œ ë§¤ê°œë³€ìˆ˜ëŠ” ì—†ëŠ”ê°€?
> 3) í•˜ë‚˜ì˜ ë ˆì½”ë“œë¡œ ë­‰ì¹  ìˆ˜ ìžˆëŠ” ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì€ ì—†ëŠ”ê°€?



## ë¦¬íŒ©í† ë§ 14. ë§¤ê°œë³€ìˆ˜ë¥¼ ì§ˆì˜ í•¨ìˆ˜ë¡œ ë°”ê¾¸ê¸°(Replace Parameter with Query)

- í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì€ í•¨ìˆ˜ì˜ ë‹¤ì–‘ì„±ì„ ëŒ€ë³€í•˜ë©°, ì§§ì„ìˆ˜ë¡ ì´í•´í•˜ê¸° ì¢‹ë‹¤.
  - ì¼ë°˜ì ìœ¼ë¡œ í•¨ìˆ˜ì— ì „ë‹¬ë˜ëŠ” ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì´ ë‹¤ë¥´ë©´ ì´ í•¨ìˆ˜ì˜ ì—­í• ë„ ë‹¤ë¥´ê² êµ¬ë‚˜ ìƒê°í•˜ëŠ” ê²ƒì´ ìžì—°ìŠ¤ëŸ½ë‹¤.
  - ë§¤ê°œë³€ìˆ˜ê°€ ë§Žì„ìˆ˜ë¡ í•¨ìˆ˜ê°€ í•˜ëŠ” ì—­í• ì„ íŒŒì•…í•˜ê¸° ì–´ë µë‹¤.
- ì–´ë–¤ í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ ì•Œì•„ë‚¼ ìˆ˜ ìžˆë‹¤ë©´ â€œ**ì¤‘ë³µ(ëœ) ë§¤ê°œë³€ìˆ˜**"ë¼ ìƒê°í•  ìˆ˜ ìžˆë‹¤.
- ë§¤ê°œë³€ìˆ˜ì— ê°’ì„ ì „ë‹¬í•˜ëŠ” ê²ƒì€ â€œí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ìª½(í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ìª½)"ì˜ ì±…ìž„ì´ë‹¤. ê°€ëŠ¥í•˜ë©´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ìª½ì˜ ì±…ìž„ì„ ì¤„ì´ê³  í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì±…ìž„ì§€ë„ë¡ ë…¸ë ¥í•œë‹¤.
  - ë§¤ê°œë³€ìˆ˜ë¥¼ ë¬´ì¡°ê±´ ì¤„ì´ëŠ”ê²Œ ì¢‹ì€ ê²ƒì€ ì•„ë‹ˆë‹¤. ë§¤ê°œë³€ìˆ˜ë¥¼ ì¤„ìž„ìœ¼ë¡œì¨ ìƒê²¨ë‚˜ëŠ” ì˜ì¡´ì„± ë˜í•œ ìƒê°í•  ìˆ˜ ìžˆì–´ì•¼ í•œë‹¤.
- â€œìž„ì‹œ ë³€ìˆ˜ë¥¼ ì§ˆì˜ í•¨ìˆ˜ë¡œ ë°”ê¾¸ê¸°"ì™€ â€œí•¨ìˆ˜ ì„ ì–¸ ë³€ê²½í•˜ê¸°â€ë¥¼ í†µí•´ ì´ ë¦¬íŒ©í† ë§ì„ ì ìš©í•œë‹¤.

```java
public double finalPrice() {
    double basePrice = this.quantity * this.itemPrice;
    int discountLevel = this.quantity > 100 ? 2 : 1;
    return this.discountedPrice(basePrice, discountLevel);
}

private double discountedPrice(double basePrice, int discountLevel) {
    return discountLevel == 2 ? basePrice * 0.9 : basePrice * 0.95;
}
```

```java
public double finalPrice() {
    double basePrice = this.quantity * this.itemPrice;
    return this.discountedPrice(basePrice);
}

// 1. í•¨ìˆ˜ ì¶”ì¶œí•˜ê¸°
private int discountLevel() {
    return this.quantity > 100 ? 2 : 1;
}

//2. ë§¤ê°œë³€ìˆ˜ ì¤„ì´ê¸°
private double discountedPrice(double basePrice) {
    return discountLevel() == 2 ? basePrice * 0.90 : basePrice * 0.95;
}
```

[https://github.com/jincrates/spring-workspace/commit/b11f69ceaa58c91a6c5f13d32af85b48ea0e1787](https://github.com/jincrates/spring-workspace/commit/b11f69ceaa58c91a6c5f13d32af85b48ea0e1787)


>â“ **[ìƒê°í•˜ê¸°]** 
>
> í…ŒìŠ¤íŠ¸ ì½”ë“œ ìž‘ì„±ì˜ í•„ìš”ì„±

## ë¦¬íŒ©í† ë§ 15. í”Œëž˜ê·¸ ì¸ìˆ˜ ì œê±°í•˜ê¸°(Remove Flag Argument)

- í”Œëž˜ê·¸ëŠ” ë³´í†µ í•¨ìˆ˜ì— ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•´ì„œ, í•¨ìˆ˜ ë‚´ë¶€ì˜ ë¡œì§ì„ ë¶„ê¸°í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤.
  - í”Œëž˜ê·¸ê°€ ìžˆìœ¼ë©´ ê·¸ í•¨ìˆ˜ê°€ ë¬´ìŠ¨ ì¼ì„ í•˜ëŠ”ì§€ íŒŒì•…í•˜ê¸° ì–´ë µë‹¤.
- í”Œëž˜ê·¸ë¥¼ ì‚¬ìš©í•œ í•¨ìˆ˜ëŠ” ì°¨ì´ë¥¼ íŒŒì•…í•˜ê¸° ì–´ë µë‹¤.
  - bookConcert(customer, false), bookConcert(customer, true)
  - bookConcert(customer), preminumBookConcert(customer)
- ì¡°ê±´ë¬¸ ë¶„í•´í•˜ê¸°(Decompose Condition)ë¥¼ í™œìš©í•  ìˆ˜ ìžˆë‹¤.


```java
public LocalDate deliveryDate(Order order, boolean isRush) {
    if (isRush) {
        int deliveryTime = switch (order.getDeliveryState()) {
            case "WA", "CA", "OR" -> 1;
            case "TX", "NY", "FL" -> 2;
            default -> 3;
        };
        return order.getPlacedOn().plusDays(deliveryTime);
    } else {
        int deliveryTime = switch (order.getDeliveryState()) {
            case "WA", "CA" -> 2;
            case "OR", "TX", "NY" -> 3;
            default -> 4;
        };
        return order.getPlacedOn().plusDays(deliveryTime);
    }
}
```

```java
/*
// ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•Šë‹¤.
public LocalDate deliveryDate(Order order, boolean isRush) {
    if (isRush) {
        return rushDeliveryDate(order);
    } else {
        return regularDeliveryDate(order);
    }
}
*/
public LocalDate regularDeliveryDate(Order order) {
    int deliveryTime = switch (order.getDeliveryState()) {
        case "WA", "CA" -> 2;
        case "OR", "TX", "NY" -> 3;
        default -> 4;
    };
    return order.getPlacedOn().plusDays(deliveryTime);
}

public LocalDate rushDeliveryDate(Order order) {
    int deliveryTime = switch (order.getDeliveryState()) {
        case "WA", "CA", "OR" -> 1;
        case "TX", "NY", "FL" -> 2;
        default -> 3;
    };
    return order.getPlacedOn().plusDays(deliveryTime);
}
```

```java
@Test
void deliveryDate() {
    LocalDate placedOn = LocalDate.of(2021, 12, 15);
    Order orderFromWA = new Order(placedOn, "WA");

    Shipment shipment = new Shipment();
    //assertEquals(placedOn.plusDays(1), shipment.deliveryDate(orderFromWA, true));
    //assertEquals(placedOn.plusDays(2), shipment.deliveryDate(orderFromWA, false));
    assertEquals(placedOn.plusDays(1), shipment.rushDeliveryDate(orderFromWA));
    assertEquals(placedOn.plusDays(2), shipment.regularDeliveryDate(orderFromWA));
}
```

[https://github.com/jincrates/spring-workspace/commit/300a753657aa38390dcd37e34c9969ec54d05245](https://github.com/jincrates/spring-workspace/commit/300a753657aa38390dcd37e34c9969ec54d05245)

## ë¦¬íŒ©í† ë§ 16. ì—¬ëŸ¬ í•¨ìˆ˜ë¥¼ í´ëž˜ìŠ¤ë¡œ ë¬¶ê¸°(Combine Functions into Class)

- ë¹„ìŠ·í•œ ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì„ ì—¬ëŸ¬ í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•˜ê³  ìžˆë‹¤ë©´ í•´ë‹¹ ë©”ì†Œë“œë¥¼ ëª¨ì•„ì„œ í´ëž˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìžˆë‹¤.
- í´ëž˜ìŠ¤ ë‚´ë¶€ë¡œ ë©”ì†Œë“œë¥¼ ì˜®ê¸°ê³ , ë°ì´í„°ë¥¼ í•„ë“œë¡œ ë§Œë“¤ë©´ ë©”ì†Œë“œì— ì „ë‹¬í•´ì•¼ í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ ëª©ë¡ë„ ì¤„ì¼ ìˆ˜ ìžˆë‹¤.

[https://github.com/jincrates/spring-workspace/commit/ec1449e4b4d5cead0b320a2c099d5fa1f864e7bf](https://github.com/jincrates/spring-workspace/commit/ec1449e4b4d5cead0b320a2c099d5fa1f864e7bf)


## ì´ ì±…ì„ ë³´ë¼ ðŸ“–

### ë°‘ì¤„ ê¸‹ê¸°

> ìš°ë¦¬ê°€ í”„ë¡œê·¸ëž˜ë°ì„ ì‹œìž‘í•˜ë˜ ì‹œì ˆì—ëŠ” í•¨ìˆ˜ì— í•„ìš”í•œ ê²ƒë“¤ì„ ëª¨ì¡°ë¦¬ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ë¼ê³  ë°°ì› ë‹¤. ê·¸ëž˜ì•¼ ì•”ì  ì¡´ìž¬ì¸ ì „ì—­ ë°ì´í„°ê°€ ëŠ˜ì–´ë‚˜ëŠ” ì‚¬íƒœë¥¼ ë§‰ì„ ìˆ˜ ìžˆê¸° ë–„ë¬¸ì´ë‹¤. ê·¸ ì‹œì ˆì—ëŠ” í•©ë¦¬ì ì¸ ë°©ì‹ì´ì—ˆë‹¤. í•˜ì§€ë§Œ ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì´ ê¸¸ì–´ì§€ë©´ ê·¸ ìžì²´ë¡œ ì´í•´í•˜ê¸° ì–´ë ¤ìš¸ ë•Œê°€ ë§Žì•˜ë‹¤. (117)
>
